# Сайт по созданию стишков-порошков

[Ссылка на работающий сайт](http://aleksandra023.pythonanywhere.com/) 

Пользователь вводит слово, сайт генерирует стишок-порошок, который начинается с введенного слова. 
Если слово не подходит по ритмике или слова нет в словаре, пользователь получает соответствующее сообщение.

# Как работает программа?

## Ритмика

Словарь слов русского языка преобразуется в словать json, где ключами являются слова, а значениями - слова с проставленным ударением.
Из полученного словаря также формируется другой словарь, в котором ключами являются ритмические шаблоны слова, представляющие собой строку из нулей и единиц (0 - безударный слог, 1 - ударный слог), а значениями - списки слов, подходящих под данный шаблон. 

Далее в программе генерируются списки ритмических шаблонов слов, подходящих для заполнения конкретной строки стихотворения, далее происходит подбор слов, подходящих под шаблон.

## Семантика

Создана модель tf-idf, обученная на произведениях современных русских писателей (были взяты произведения М.Булгакова, В.Быкова, С.Довлатова, В.Катаева и В.Набокова). Каждое следующее слово стихотворения подбирается так: среди слов, семантически близких к данному, выбирается то, которое подходит по ритмике. Слова в одном порошке не могут повторяться. Таким образом, обеспечивается определенная степень семантической связности.

# Навигация по файлам

https://kaikki.org/dictionary/Russian/index.html - ссылка на сайт, где в разделе "All word forms (409956 distinct words)" можно скачать исходный словарь json русских ударений.

dcts_creation.py - создание словарей {слово с ударением : слово без ударения}, {шаблон слова : список подходящих слов}
semant_model.py - подготовка текстов для обучения модели, обучение семантической модели
rythm_semant.py - создание стишков
app_poems.py - взаимодействие с flask

архив dct_word_stressed.rar: dct_word_stressed.txt, dct_word_stressed.py - созданный словарь {слово с ударением : слово без ударения}
архив dict_rythm_patt_words.rar: dict_rythm_patt_words.txt, dict_rythm_patt_words.py - созданный словарь {шаблон слова : список подходящих слов}

books_model.rar - архив с книгами, на которых училась модель
model_sem.bin - обученная модель

папка templates:
	base_poems.html - база страницы сайта
	index_poems.html - наполнение страницы сайта 

